/*
findme
chenjianyi

2015-09-11
 */
!function(){function a(a){return document.getElementById(a)}function b(a,b){var c=b-a+1;return Math.floor(Math.random()*c+a)}function c(a){console.log(123),g.style.display="none";var b=d.createNew(a);b.initEl(),b.initEvent()}var d={createNew:function(c){console.log("create:",c);var d,e,f,h={scWidth:5500,scHeight:5500,bxWidth:80,bxHeight:80,totalTime:50},i={info:a("info"),scrollview:a("scrollview"),box:a("box"),timecount:a("timecount")},j={initEl:function(){f=this,i.scrollview.style.width=h.scWidth+"px",i.scrollview.style.height=h.scHeight+"px",d=f.getViewport(),i.box.style.width=h.bxWidth+"px",i.box.style.height=h.bxHeight+"px",i.box.style.left=b(d.width+h.bxWidth,h.scWidth-h.bxWidth)+"px",i.box.style.top=b(d.height+h.bxHeight,h.scHeight-h.bxHeight)+"px",i.box.style.display="block"},initEvent:function(){document.body.addEventListener("scroll",f.getCurPos,!1),document.body.addEventListener("touchstart",f.touchStartEvent,!1),document.body.addEventListener("touchend",f.touchEndEvent,!1),box.addEventListener("click",f.youFindMeSuccess,!1),window.addEventListener("resize",f.resizeEvent,!1),e=f.intervalTrigger()},clear:function(){document.body.removeEventListener("scroll",f.getCurPos,!1),document.body.removeEventListener("touchstart",f.touchStartEvent,!1),document.body.removeEventListener("touchend",f.touchEndEvent,!1),window.removeEventListener("resize",f.resizeEvent,!1),window.clearInterval(e)},getViewport:function(){var a=window,b="inner";return"innerWidth"in window||(b="client",a=document.documentElement||body),{width:a[b+"Width"],height:a[b+"Height"]}},getCurPos:function(){var a=i.box.getBoundingClientRect();a.top>d.height?i.info.innerText="我在下面":a.bottom<0?i.info.innerText="我在上面":a.left>d.width?i.info.innerText="我在右边":a.right<0?i.info.innerText="我在左边":i.info.innerText="快点我！"},resizeEvent:function(){d=f.getViewport(),f.getCurPos()},intervalTrigger:function(){return window.setInterval(function(){h.totalTime--,i.timecount.innerText=h.totalTime,h.totalTime<=0&&f.youFindMeFail()},1e3)},youFindMeSuccess:function(){i.info.innerText="你找到我了！",window.clearInterval(e),f.clear(),g.style.display="block",c++},youFindMeFail:function(){i.info.innerText="你居然找不到我！T_T",window.clearInterval(e),f.clear(),g.style.display="block"},touchStartEvent:function(){i.info.innerText="翻滚！！"},touchEndEvent:function(){i.info.innerText="滚啊滚！！"}};return j}},e=1,f=a("playbutton"),g=a("playdiv");f.addEventListener("click",function(){c(e)},!1)}();